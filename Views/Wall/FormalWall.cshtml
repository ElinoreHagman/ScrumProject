@using ScrumProject.Models
@model PostIndexViewModel
@{
    ViewBag.Title = "ListShowPost";
}

<h2>WALL - Formal posts</h2>

<br />

<div class="category panel">

    @using (Html.BeginForm("Submit", "Wall", FormMethod.Post))
    {
        <input type="submit" value="Sort by" class="btn btn-xs btn-primary" />

        <select id="dropdownMenu" name="dropdownMenu" class="dropdown-header" style="display: inline-block">

            <option value="0">All categories</option>

            @foreach (var category in Model.Categories)
            {
                <option value="@category.Name">@category.Name</option>
            }

        </select>

    }


</div>
<div class="flex">
    @foreach (var post in Model.Posts)
    {
        if (post.PublishedWall.Equals("Formell"))
        {

            <div id="blogPost" class="bg-default" style="padding: 1px 10px 20px 15px; margin: 10px 0px;">
                <h3>
                    @post.Title
                </h3>

                @Html.Label("Category: ") @post.Category.Name @Html.Label("Date: ") @post.PostDateTime @*@Html.Label("Author")*@
                <br />
                @post.Content
                <br />

                @if (post.FilePath != null)
                {
                    if (post.FilePath.Contains("png") || post.FilePath.Contains("jpg") || post.FilePath.Contains("jpeg"))
                    {
                        <div>
                            <img src="@Url.Content(post.FilePath)" width="300" style="margin: 10px 0px;" />

                        </div>
                    }
                }
                <br />
                @Html.ActionLink("Edit post", "EditPost", "Post", new { postId = @post.PostID }, null)
                |
                @Html.ActionLink("Delete post", "DeletePost", "Post",
                new { id = post.PostID },
                new { confirm = true, onclick = "return confirm('Do you want to delete this post?')" })

            </div>
        }
    }
</div>


